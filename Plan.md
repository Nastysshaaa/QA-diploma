# План автоматизации тестирования возможности покупки тура

## Перечень автоматизируемых сценариев: 
 ### Тестовые данные 
1. Номер дебетовой/кредитной карты:
* 16 цифр;
* формат XXXX XXXX XXXX XXXX.
2. Фамилия, имя держателя карты:
* буквенные символы на латинице;
* две группы символов;
* длина обоих групп не превышает 64 символа.
3. Месяц срока действия карты:
* цифровые символы длиной не более 2 шт. (01-12);
* если срок действия карты заканчивается в текущем году, то указывается месяц не ранее, чем текущий; 
4. Год срока действия карты:
*  цифровые символы;
* указываются последние 2 цифры года;
* не просроченная и не более 5 лет с текущй даты;
5. CVV/CVC код: 
* цифровые сиволы длиной не более 3 шт.

*Валидные данные для тестирования (номер карт взят из файла data.json)*

    4444 4444 4444 4441, status APPROVED
    4444 4444 4444 4442, status DECLINED

    Держатель карты: ALEX ALEXEEV, MARIA IVANOVA
    Месяц: 01-12
    Год: текущий или текущий + 5 лет
    CVV/CVC: 000-999


*Невалидные данные для тестирования*
        
    Номер карты: 0000 0000 0000 0000, 1234 5678 9012 3456, 1111 1111 1111 111
    Держатель карты: ИВАН ИВАНОВИЧ, IV@NOVIC4, IVAN    
    Месяц: 0-9,00,13-99
    Год: 00-22, 35-99
    CVV/CVC: 0-9, 00-99

### Перечень автоматизируемых сценариев:

*Позитивные*

#### Переход с главной страницы (http://localhost:8080/) к форме заполнения данных карты:
##### 1. Через кнопку "Купить":
* Нажать кнопку "Купить";

Ожидаемый результат: открылась форма ввода данных карты.

##### 2. Через кнопку "Купить в кредит":
* Нажать кнопку "Купить в кредит";

###### Ожидаемый результат: открылась форма ввода данных карты.

#### Успешная оплата картой

##### 1. Оплата картой `4444 4444 4444 4441`
* Заполнить поле "Номер карты" номером одобренной карты:
* Заполнить поле "Месяц" валидными данными;
* Заполнить поле "Год" валидными данными;
* Заполнить поле "Владелец" валидными данными;
* Заполнить поле "CVV/CVC" валидными данными;
* Нажать кнопку "Продолжить".

###### Ожидаемый результат: Появляется PopUp с сообщением: "Успешно. Операция одобрена банком.", запись APPROVED в БД.

#### Успешное оформление кредита

##### 2. Оформление кредита по карте `4444 4444 4444 4441`
* Заполнить поле "Номер карты" номером одобренной карты:
* Заполнить поле "Месяц" валидными данными;
* Заполнить поле "Год" валидными данными;
* Заполнить поле "Владелец" валидными данными;
* Заполнить поле "CVV/CVC" валидными данными;
* Нажать кнопку "Продолжить".

###### Ожидаемый результат: Появляется PopUp с сообщением: "Успешно. Операция одобрена банком.", запись APPROVED в БД.

#### Отказ в оплате

##### 3. Оплата картой `4444 4444 4444 4442`

* Заполнить поле "Номер карты" номером карты 4444 4444 4444 4442:
* Заполнить поле "Месяц" валидными данными;
* Заполнить поле "Год" валидными данными;
* Заполнить поле "Владелец" валидными данными;
* Заполнить поле "CVV/CVC" валидными данными;
* Нажать кнопку "Продолжить".

###### Ожидаемый результат: Появляется PopUp с сообщением: "Успешно. Операция одобрена банком.", запись DECLINED в БД.


#### Отказ в оформлении кредита
##### 4. Оформление кредита по карте `4444 4444 4444 4442`

* Заполнить поле "Номер карты" 4444 4444 4444 4442:
* Заполнить поле "Месяц" валидными данными;
* Заполнить поле "Год" валидными данными;
* Заполнить поле "Владелец" валидными данными;
* Заполнить поле "CVV/CVC" валидными данными;
* Нажать кнопку "Продолжить".

###### Ожидаемый результат: Появляется PopUp с сообщением: "Успешно. Операция одобрена банком.", запись DECLINED в БД.

*Негативный*

##### 1. Оплата/Кредит по карте, указан невалидный номер
* Заполнить поле "Номер карты" 1111 1111 1111 111:
* Заполнить поле "Месяц" валидными данными;
* Заполнить поле "Год" валидными данными;
* Заполнить поле "Владелец" валидными данными;
* Заполнить поле "CVV/CVC" валидными данными;
* Нажать кнопку "Продолжить".

###### Ожидаемый результат: под полем Номер карты появилось сообщение об ошибке "Неверный формат"

##### 2. Оплата/Кредит по несуществующей карте
* Заполнить поле "Номер карты" 4444 4444 4444 4444:
* Заполнить поле "Месяц" валидными данными;
* Заполнить поле "Год" валидными данными;
* Заполнить поле "Владелец" валидными данными;
* Заполнить поле "CVV/CVC" валидными данными;
* Нажать кнопку "Продолжить".

###### Ожидаемый результат: Появляется PopUp c сообщением: "Ошибка! Банк отказал в проведении операции"

##### 3. Оплата/Кредит по карте, у которой истек действия, месяц
* Заполнить поле "Номер карты" 4444 4444 4444 4441:
* Заполнить поле "Месяц" невалидными данными (предыдущий месяц);
* Заполнить поле "Год" валидными данными (текущий год);
* Заполнить поле "Владелец" валидными данными;
* Заполнить поле "CVV/CVC" валидными данными;
* Нажать кнопку "Продолжить".

###### Ожидаемый результат: Под полем "Месяц" появилось сообщение: "Неверно указан срок действия карты".

##### 4. Оплата/Кредит по карте, у которой истек действия, год
* Заполнить поле "Номер карты" 4444 4444 4444 4441:
* Заполнить поле "Месяц" валидными данными;
* Заполнить поле "Год" невалидными данными (предыдущий год);
* Заполнить поле "Владелец" валидными данными;
* Заполнить поле "CVV/CVC" валидными данными;
* Нажать кнопку "Продолжить".

###### Ожидаемый результат: под полем "Год" появилось сообщение об ошибке "Истёк срок действия карты"

##### 5. Оплата/Кредит по карте, у которой указан невалидный месяц
* Заполнить поле "Номер карты" 4444 4444 4444 4441:
* Заполнить поле "Месяц" невалидными данными;
* Заполнить поле "Год" валидными данными;
* Заполнить поле "Владелец" валидными данными;
* Заполнить поле "CVV/CVC" валидными данными;
* Нажать кнопку "Продолжить".

###### Ожидаемый результат: под полем "Месяц" появилось сообщение об ошибке "Истёк срок действия карты"

##### 6. Оплата/Кредит по карте, у которой указан невалидный год
* Заполнить поле "Номер карты" 4444 4444 4444 4441:
* Заполнить поле "Месяц" валидными данными;
* Заполнить поле "Год" невалидными данными (последние две цифры текущего года + 5);
* Заполнить поле "Владелец" валидными данными;
* Заполнить поле "CVV/CVC" валидными данными;
* Нажать кнопку "Продолжить".

###### Ожидаемый результат: под полем "Год" появилось сообщение об ошибке "Неверно указан срок действия карты"

##### 7. Оплата/Кредит по карте, у которой указано невалидное значение в поле "Владелец"
* Заполнить поле "Номер карты" 4444 4444 4444 4441:
* Заполнить поле "Месяц" валидными данными;
* Заполнить поле "Год" валидными данными;
* Заполнить поле "Владелец" невалидными данными;
* Заполнить поле "CVV/CVC" валидными данными;
* Нажать кнопку "Продолжить".

###### Ожидаемый результат: под полем "Владелец" появилось сообщение об ошибке.

##### 8. Оплата/Кредит по карте, у которой указано невалидное значение в поле "CVV/CVC"
* Заполнить поле "Номер карты" 4444 4444 4444 4441:
* Заполнить поле "Месяц" валидными данными;
* Заполнить поле "Год" валидными данными;
* Заполнить поле "Владелец" валидными данными;
* Заполнить поле "CVV/CVC" невалидными данными;
* Нажать кнопку "Продолжить".

###### Ожидаемый результат: под полем "CVV/CVC" появилось сообщение об ошибке "Неверный формат".

### Перечень используемых инструментов

1. IntelliJ IDEA - программа для работы с кодом. Версия Community Edition бесплатная.
2. Java 11 - язык программирования. 
3. Gradle - система автоматизации сборки приложения. 
4. Git - локальное хранение репозитория. 
5. GitHub - удаленное хранение репозитория, публикация проекта.
6. JUnit5 - фреймворк для модульного тестирования, запуск автотестов.
7. Selenide - фреймворк для написания и выполнения UI тестов. 
8. Docker - инструмент для контейнеризации банковских сервисов и БД: MySQL, PostgreSQL.
9. Allure Framework – построение детализированных отчетов о тестировании.  
10. Faker - библиотека для генерации тестовых данных.
11. Rest Assured - библиотека, позволяет пользователям обрабатывать HTTP-запросы, которые можно записать в достаточно читабельном формате.

### Возможные риски при автоматизации

1. Изменения в коде приведут в падению тестов.
2. Изменение интерфейса. Невозможно протестировать графический интерфейс сайта.
3. Нет документации на тестируемый сервис. При тестировании возможно неверное трактование функционала. 
4. Большое количество дефектов в функциональности приложения.
5. При дорабатывании/изменении кода, нужно будет часто переписывать авто-тесты.

### Интервальная оценка с учётом рисков в часах

1. Знакомство с проектом. Написание плана - 10 часов.
2. Подготовка окружения, развертывание базы данных - 22 часа
3. Написание PageObjectов, DataHelper и авто-тестов - 40-45 часов
4. Тестирование и отладка авто-тестов - 30 часов. 
5. Анализ отчета - 4 часа.

#### Итого: 111 часов.

### Ожидаемые даты выполнения этапов проекта
1. План автоматизации тестирования - 21.09.2023 г.
2. Написание и отладка авто-тестов - 02.10.2023 г. 
3. Подготовка и оформление репортов - 06.10.2023 г. 
4. Отчеты по тестированию и автоматизации тестирования - 09.10.2023 г.
5. Доработка и устранение замечаний - 17.10.2023 г.



